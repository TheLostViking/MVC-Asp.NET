@{
  ViewData["Title"] = "Buy Course";
}
@model App.ViewModels.DetailStudentCourseViewModel

<form asp-controller="BuyCourses" method="GET">
  <div class="card">
    <div class="card-header bg-info">
      <h4>Student Details</h4>
    </div>
    <div class="p-3">
      <div class="row">
        <label class="col-sm-2 col-form-label" asp-for="FirstName"></label>
        <label class="col-sm-2 col-form-label">@Model.FirstName</label>
      </div>
      <div class="row">
        <label class="col-sm-2 col-form-label" asp-for="LastName"></label>
        <label class="col-sm-2 col-form-label">@Model.LastName</label>
    </div>
    <div class="row">
      <label class="col-sm-2 col-form-label" asp-for="Email"></label>
      <label class="col-sm-10 col-form-label">@Model.Email</label>
    </div>
    <div class="row">
      <label class="col-sm-2 col-form-label" asp-for="Phone"></label>
      <label class="col-sm-2 col-form-label">@Model.Phone</label>
    </div>
    <div class="row">
      <label class="col-sm-2 col-form-label" asp-for="Adress"></label>
      <label class="col-sm-10 col-form-label">@Model.Adress</label>
    </div>
  </div>
  </div>
</form>

<div class="mt-3">
  <h4>Active Courses</h4>
  <table class="table">
    <thead>
      <tr class="table-primary">
        <th scope="col">Course #</th>
        <th scope="col">Title</th>
        <th scope="col">Description</th>
        <th scope="col">Length</th>
        <th scope="col">Level</th>
      </tr>
    </thead>
    <tbody>
      @foreach (var c in @Model.Courses)
      {
        <tr>
          <td>@c.CourseNumber</td>
          <td>@c.Title</td>
          <td>@c.Description</td>
          <td>@c.Length</td>
          <td>@c.Level</td>
        </tr>
      }
    </tbody>
  </table>
<div class ="mt-3">
    <h4>Available courses for purchase</h4>
    <table class="table">
        <thead>
            <tr class="table-primary">
                <th>Course#</th>
                <th>Title</th>
                <th>Description</th>
                <th>Length</th>
                <th>Level</th>
                <th>Price</th>
                <th></th>
            </tr>
        </thead>

        <tbody>
            @foreach (var course in @Model.AvailableCourses)
            {
                <tr>
                    <td>@course.CourseNumber</td>
                    <td>@course.Title</td>
                    <td>@course.Description</td>
                    <td>@course.Length</td>
                    <td>@course.Level</td>
                    <td>@course.Price</td>
                    <td style="text-align: center;">
                        <a asp-action="AddCourseToStudent" asp-route-studentId="@Model.StudentId" asp-route-courseId="@course.CourseId" class ="btn btn-primary">Buy</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
</div>
